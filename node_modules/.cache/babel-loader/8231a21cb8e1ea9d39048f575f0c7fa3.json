{"ast":null,"code":"import _slicedToArray from \"/home/loozis/Documents/my-own-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/home/loozis/Documents/my-own-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/loozis/Documents/my-own-app/src/App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Login from \"./components/Login\";\nconst REST_API_URL = \"http://frontend-recruitment.one2tribe.pl:8080\"; // const REST_API_URL = 'http://localhost:3000';\n\nconst AUTH_OPTIONS = {\n  credentials: \"include\",\n  mode: \"cors\"\n};\nexport const authenticate = async () => {\n  const body = JSON.stringify({\n    username: \"YNAPEyJk\",\n    password: \"ylYJDgFmnAIs\"\n  });\n  const response = await fetch(\"\".concat(REST_API_URL, \"/api/authenticate\"), _objectSpread({\n    method: \"delete\"\n  }, AUTH_OPTIONS, {\n    body,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    }\n  }));\n  setTimeout(() => {\n    // const newResponse = response.getAllResponseHeaders();\n    console.log(response);\n  }, 3000);\n  return response.text();\n};\nexport const retrieveItems = async () => {\n  const response = await fetch(\"\".concat(REST_API_URL, \"/api/v1/item\"), _objectSpread({}, AUTH_OPTIONS, {\n    headers: {\n      Authorization: \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpc3MiOiJzZWN1cmUtYXBpIiwiYXVkIjoic2VjdXJlLWFwcCIsInN1YiI6IllOQVBFeUprIiwiZXhwIjoxNTY4Mjg1MTE4LCJyb2wiOlsiVXNlciJdfQ.JP3fYRcp1afsl1Kj40qTyoo7FOzfWAyug7cV-YhynAF7Qr2CbdBIcYIsy6u89pDSBP2XdBk7yt_ScmiYPoRMmg\",\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    }\n  }));\n  return response.json();\n};\nexport const addItem = async item => {\n  const response = await fetch(\"\".concat(REST_API_URL, \"/api/v1/item\"), _objectSpread({\n    method: \"post\"\n  }, AUTH_OPTIONS, {\n    body: JSON.stringify(item),\n    headers: {\n      Authorization: \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpc3MiOiJzZWN1cmUtYXBpIiwiYXVkIjoic2VjdXJlLWFwcCIsInN1YiI6IllOQVBFeUprIiwiZXhwIjoxNTY4Mjg1MTE4LCJyb2wiOlsiVXNlciJdfQ.JP3fYRcp1afsl1Kj40qTyoo7FOzfWAyug7cV-YhynAF7Qr2CbdBIcYIsy6u89pDSBP2XdBk7yt_ScmiYPoRMmg\",\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    }\n  }));\n  setTimeout(() => {\n    // const newResponse = response.getAllResponseHeaders();\n    console.log(response);\n  }, 2000);\n  return response.json();\n};\nexport const main = async () => {\n  await authenticate();\n  const items = await retrieveItems();\n  console.log(items);\n  return items;\n};\nmain().catch(error => console.error(error));\nconst button = document.createElement(\"button\");\n\nbutton.onclick = () => {\n  console.log(\"click\");\n  const name = \"abc\";\n  const item = {\n    name\n  };\n  addItem(item).catch(error => console.error(error));\n};\n\nbutton.textContent = \"Dodaj\";\ndocument.body.appendChild(button);\n\nfunction Button() {\n  const OnClick = () => {\n    console.log(\"click\");\n    const name = \"abc\";\n    const item = {\n      name\n    };\n    addItem(item).catch(error => console.error(error));\n  };\n\n  return React.createElement(\"button\", {\n    onClick: () => OnClick(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"Dodaj\");\n}\n\nfunction App() {\n  const _useState = useState({\n    email: '',\n    password: '',\n    isLoggedIn: false\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const LogIn = () => setState(_objectSpread({}, state, {\n    isLoggedIn: true\n  }));\n\n  function onClickSignIn(event, email, password) {\n    const newitems = main().then(items => setState({\n      email,\n      password,\n      isLoggedIn: true,\n      items\n    }));\n    event.preventDefault();\n\n    if (state.email === \"YNAPEyJk\" && state.password === \"ylYJDgFmnAIs\") {\n      return alert(\"sukces\");\n    } else if (state.email === \"\") {\n      return alert(\"Proszę podać login\");\n    } else if (state.password === \"\") {\n      return alert(\"Proszę podać hasło\");\n    } else {\n      return alert(\"Nieprawidłowy login lub hasło\");\n    }\n  }\n\n  function onLoginChange(event) {\n    setState(_objectSpread({}, state, {\n      email: event.target.value\n    }));\n  }\n\n  function onPasswordChange(event) {\n    setState(_objectSpread({}, state, {\n      password: event.target.value\n    }));\n  }\n\n  return React.createElement(React.Fragment, null, console.log(state), state.isLoggedIn ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, state.items.map(item => React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, item.id, item.name))), React.createElement(Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  })) : React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, React.createElement(Login, {\n    onClick: (event, email, password) => onClickSignIn(event, email, password),\n    onLoginChange: event => onLoginChange(event),\n    onPasswordChange: event => onPasswordChange(event),\n    email: state.email,\n    password: state.password,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/loozis/Documents/my-own-app/src/App.js"],"names":["React","useState","Login","REST_API_URL","AUTH_OPTIONS","credentials","mode","authenticate","body","JSON","stringify","username","password","response","fetch","method","headers","Accept","setTimeout","console","log","text","retrieveItems","Authorization","json","addItem","item","main","items","catch","error","button","document","createElement","onclick","name","textContent","appendChild","Button","OnClick","App","email","isLoggedIn","state","setState","LogIn","onClickSignIn","event","newitems","then","preventDefault","alert","onLoginChange","target","value","onPasswordChange","map","id"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Login from \"./components/Login\"\n\nconst REST_API_URL = \"http://frontend-recruitment.one2tribe.pl:8080\";\n// const REST_API_URL = 'http://localhost:3000';\n\nconst AUTH_OPTIONS = {\n  credentials: \"include\",\n  mode: \"cors\"\n};\n\nexport const authenticate = async () => {\n  const body = JSON.stringify({\n    username: \"YNAPEyJk\",\n    password: \"ylYJDgFmnAIs\"\n  });\n\n  const response = await fetch(`${REST_API_URL}/api/authenticate`, {\n    method: \"delete\",\n    ...AUTH_OPTIONS,\n    body,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    }\n  });\n  setTimeout(() => {\n    // const newResponse = response.getAllResponseHeaders();\n    console.log(response);\n  }, 3000);\n\n  return response.text();\n};\n\nexport const retrieveItems = async () => {\n  const response = await fetch(`${REST_API_URL}/api/v1/item`, {\n    ...AUTH_OPTIONS,\n    headers: {\n      Authorization:\n        \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpc3MiOiJzZWN1cmUtYXBpIiwiYXVkIjoic2VjdXJlLWFwcCIsInN1YiI6IllOQVBFeUprIiwiZXhwIjoxNTY4Mjg1MTE4LCJyb2wiOlsiVXNlciJdfQ.JP3fYRcp1afsl1Kj40qTyoo7FOzfWAyug7cV-YhynAF7Qr2CbdBIcYIsy6u89pDSBP2XdBk7yt_ScmiYPoRMmg\",\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    }\n  });\n\n  return response.json();\n};\n\nexport const addItem = async (item) => {\n  const response = await fetch(`${REST_API_URL}/api/v1/item`, {\n    method: \"post\",\n    ...AUTH_OPTIONS,\n    body: JSON.stringify(item),\n    headers: {\n      Authorization:\n        \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpc3MiOiJzZWN1cmUtYXBpIiwiYXVkIjoic2VjdXJlLWFwcCIsInN1YiI6IllOQVBFeUprIiwiZXhwIjoxNTY4Mjg1MTE4LCJyb2wiOlsiVXNlciJdfQ.JP3fYRcp1afsl1Kj40qTyoo7FOzfWAyug7cV-YhynAF7Qr2CbdBIcYIsy6u89pDSBP2XdBk7yt_ScmiYPoRMmg\",\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    }\n  });\n  setTimeout(() => {\n    // const newResponse = response.getAllResponseHeaders();\n    console.log(response);\n  }, 2000)\n  return response.json();\n};\n\n\nexport const main = async () => {\n    await authenticate();\n  \n    const items = await retrieveItems();\n  \n    console.log(items);\n  \n    return items\n  };\n  \n  main().catch(error => console.error(error));\n\nconst button = document.createElement(\"button\");\n\nbutton.onclick = () => {\n  console.log(\"click\");\n\n  const name = \"abc\";\n  const item = { name };\n\n  addItem(item).catch(error => console.error(error));\n};\n\nbutton.textContent = \"Dodaj\"\n\ndocument.body.appendChild(button)\nfunction Button() {\n    const OnClick = () => {\n        console.log(\"click\");\n      \n        const name = \"abc\";\n        const item = { name };\n      \n        addItem(item).catch(error => console.error(error));\n      };\n\nreturn(\n    <button\n    onClick={()=>OnClick()}\n  >\n   Dodaj\n  </button>\n)\n}\n\nfunction App() {\n    const [state, setState] = useState({\n        email: '',\n        password: '',\n        isLoggedIn: false,\n    })\n\n    const LogIn = () => setState({\n        ...state,\n        isLoggedIn: true})\n\n    function onClickSignIn(event, email, password) {\n        const newitems = main().then(items => setState({\n            email,\n            password,\n            isLoggedIn: true,\n            items\n        }))\n\n        event.preventDefault()\n\n                if (state.email === \"YNAPEyJk\" && state.password === \"ylYJDgFmnAIs\") {\n                    return alert(\"sukces\")\n                } else if (state.email === \"\"){\n                    return alert(\"Proszę podać login\")\n                } else if (state.password === \"\"){\n                    return alert(\"Proszę podać hasło\")\n                } else {\n                    return alert(\"Nieprawidłowy login lub hasło\")\n                }\n\n    }\n\nfunction onLoginChange(event){\n     setState({\n        ...state,\n        email: event.target.value\n})}\n\nfunction onPasswordChange(event){\n    setState({\n       ...state,\n       password: event.target.value,\n})}\n\n  return ( <>{console.log(state)}\n    {state.isLoggedIn ?\n    <>\n    <div className=\"App\">     \n        {state.items.map(item => (\n            <p>{item.id}{item.name}</p>\n       ))}</div>\n       <Button /></> :\n    <div className=\"App\">     \n        <Login \n        onClick={(event, email, password) => onClickSignIn(event, email, password)} \n        onLoginChange={(event) => onLoginChange(event)}\n        onPasswordChange={(event) => onPasswordChange(event)}\n        email={state.email} \n        password={state.password}/>\n    </div>}\n  </>);\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}