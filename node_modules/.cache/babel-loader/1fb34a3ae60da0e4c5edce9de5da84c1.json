{"ast":null,"code":"import _defineProperty from \"/home/loozis/Documents/my-own-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/home/loozis/Documents/my-own-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/loozis/Documents/my-own-app/src/App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from \"react\";\nimport \"./App.css\";\nimport Login from \"./components/Login\";\nimport ItemList from \"./components/ItemList\";\nimport { retrieveItems, addItem, main } from \"./services/AuthService\";\nimport ItemTable from \"./components/Table\";\nimport Button from \"@material-ui/core/Button\";\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport TextField from \"@material-ui/core/TextField\";\n\nfunction App() {\n  const _useState = useState({\n    email: \"\",\n    password: \"\",\n    isLoggedIn: false,\n    token: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  function onClickSignIn(event, email, password) {\n    event.preventDefault();\n\n    if (state.email === \"YNAPEyJk\" && state.password === \"ylYJDgFmnAIs\") {\n      main().catch(error => console.error(error)).then(response => setState({\n        email,\n        password,\n        items: response.items,\n        token: response.token,\n        isLoggedIn: true\n      }));\n    } else if (state.email === \"\") {\n      return alert(\"Proszę podać login\");\n    } else if (state.password === \"\") {\n      return alert(\"Proszę podać hasło\");\n    } else {\n      return alert(\"Nieprawidłowy login lub hasło\");\n    }\n  }\n\n  function onLoginChange(event) {\n    setState(_objectSpread({}, state, {\n      email: event.target.value\n    }));\n  }\n\n  function onPasswordChange(event) {\n    setState(_objectSpread({}, state, {\n      password: event.target.value\n    }));\n  }\n\n  function onInputChange(event) {\n    setState(_objectSpread({}, state, {\n      newitem: event.target.value\n    }));\n  }\n\n  const OnAddClick = () => {\n    const name = state.newitem;\n    const item = {\n      name\n    };\n    addItem(item, state.token).catch(error => console.error(error)).then(() => retrieveItems(state.token)).then(newItems => setState(_objectSpread({}, state, {\n      newitem: \"\",\n      items: newItems\n    })));\n  };\n\n  const onLogoutClick = () => {\n    if (window.confirm(\"Czy na pewno chcesz się wylogować?\")) {\n      setState(_objectSpread({}, state, {\n        items: [],\n        isLoggedIn: false\n      }));\n    }\n  };\n\n  const UserLogin = () => {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Login, {\n      onClick: (event, email, password) => onClickSignIn(event, email, password),\n      onLoginChange: event => onLoginChange(event),\n      onPasswordChange: event => onPasswordChange(event),\n      email: state.email,\n      password: state.password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, state.isLoggedIn ? React.createElement(React.Fragment, null, React.createElement(Redirect, {\n    from: \"/\",\n    to: \"/items\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/items\",\n    render: props => React.createElement(ItemList, Object.assign({}, props, {\n      OnClick: OnAddClick,\n      rows: state.items,\n      onLogoutClick: onLogoutClick,\n      newitem: state.newitem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  })) : React.createElement(React.Fragment, null, React.createElement(Redirect, {\n    from: \"/items\",\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: UserLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }))))));\n}\n\nfunction AddButton(props) {\n  const OnClick = props.OnClick;\n  return React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: () => OnClick(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, \"Dodaj\");\n}\n\nfunction LogOutButton(props) {\n  const onLogoutClick = props.onLogoutClick;\n  return React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: () => onLogoutClick(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, \"Wyloguj\");\n}\n\nexport default App;","map":{"version":3,"sources":["/home/loozis/Documents/my-own-app/src/App.js"],"names":["React","useState","Login","ItemList","retrieveItems","addItem","main","ItemTable","Button","BrowserRouter","Router","Route","Switch","Redirect","TextField","App","email","password","isLoggedIn","token","state","setState","onClickSignIn","event","preventDefault","catch","error","console","then","response","items","alert","onLoginChange","target","value","onPasswordChange","onInputChange","newitem","OnAddClick","name","item","newItems","onLogoutClick","window","confirm","UserLogin","props","AddButton","OnClick","LogOutButton"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./App.css\";\nimport Login from \"./components/Login\";\nimport ItemList from \"./components/ItemList\";\nimport {\n  retrieveItems,\n  addItem,\n  main\n} from \"./services/AuthService\";\nimport ItemTable from \"./components/Table\";\nimport Button from \"@material-ui/core/Button\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect\n} from \"react-router-dom\";\nimport TextField from \"@material-ui/core/TextField\";\n\nfunction App() {\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\",\n    isLoggedIn: false,\n    token: \"\"\n  });\n\n  function onClickSignIn(event, email, password) {\n    event.preventDefault();\n\n    if (state.email === \"YNAPEyJk\" && state.password === \"ylYJDgFmnAIs\") {\n      main()\n        .catch(error => console.error(error))\n        .then(response =>\n          setState({\n            email,\n            password,\n            items: response.items,\n            token: response.token,\n            isLoggedIn: true\n          })\n        );\n    } else if (state.email === \"\") {\n      return alert(\"Proszę podać login\");\n    } else if (state.password === \"\") {\n      return alert(\"Proszę podać hasło\");\n    } else {\n      return alert(\"Nieprawidłowy login lub hasło\");\n    }\n  }\n\n  function onLoginChange(event) {\n    setState({\n      ...state,\n      email: event.target.value\n    });\n  }\n\n  function onPasswordChange(event) {\n    setState({\n      ...state,\n      password: event.target.value\n    });\n  }\n\n  function onInputChange(event) {\n    setState({\n      ...state,\n      newitem: event.target.value\n    });\n  }\n\n  const OnAddClick = () => {\n    const name = state.newitem;\n    const item = { name };\n\n    addItem(item, state.token)\n      .catch(error => console.error(error))\n      .then(() => retrieveItems(state.token))\n      .then(newItems => setState({ ...state, newitem: \"\", items: newItems }));\n  };\n\n  const onLogoutClick = () => {\n    if (window.confirm(\"Czy na pewno chcesz się wylogować?\")) {\n      setState({\n        ...state,\n        items: [],\n        isLoggedIn: false\n      });\n    }\n  };\n\n  const UserLogin = () => {\n    return (\n      <div>\n        <Login\n          onClick={(event, email, password) =>\n            onClickSignIn(event, email, password)\n          }\n          onLoginChange={event => onLoginChange(event)}\n          onPasswordChange={event => onPasswordChange(event)}\n          email={state.email}\n          password={state.password}\n        />\n      </div>\n    );\n  };\n\n \n\n  return (\n    <>\n      <Router>\n        <div>\n          <Switch>\n            {state.isLoggedIn ? (\n              <>\n                <Redirect from=\"/\" to=\"/items\" />\n                <Route\n                  exact\n                  path=\"/items\"\n                  render={props => (\n                    <ItemList\n                      {...props}\n                      OnClick={OnAddClick}\n                      rows={state.items}\n                      onLogoutClick={onLogoutClick}\n                      newitem={state.newitem}\n                    />\n                  )}\n                />\n              </>\n            ) : (\n              <>\n                <Redirect from=\"/items\" to=\"/\" />\n                <Route exact path=\"/\" component={UserLogin} />\n              </>\n            )}\n          </Switch>\n        </div>\n      </Router>\n    </>\n  );\n}\n\nfunction AddButton(props) {\n  const { OnClick } = props;\n  return (\n    <Button variant=\"contained\" color=\"primary\" onClick={() => OnClick()}>\n      Dodaj\n    </Button>\n  );\n}\n\nfunction LogOutButton(props) {\n  const { onLogoutClick } = props;\n  return (\n    <Button variant=\"contained\" color=\"primary\" onClick={() => onLogoutClick()}>\n      Wyloguj\n    </Button>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}